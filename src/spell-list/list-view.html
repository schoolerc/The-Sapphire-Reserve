<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-scroll-header-panel">
<link rel="import" href="/bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/iron-iconset/iron-iconset.html">
<link rel="import" href="/bower_components/paper-item/paper-item.html">
<link rel="import" href="/bower_components/iron-resizable-behavior/iron-resizable-behavior.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<dom-module id="list-view">
<style>
    :host{
        display:block;
    }
    paper-scroll-header-panel{
        display:block;
        height:100%;
    }
    paper-item{
        border-bottom: 1px solid var(--divider-color);
    }
</style>
    <template>
       <paper-scroll-header-panel>
    <paper-toolbar>
        <paper-icon-button icon="menu" paper-drawer-toggle on-tap="showFilterPopup"></paper-icon-button>
        <span class="title">D&D 5E Spell Cards</span>
        <paper-icon-button icon="filter-list" on-tap="toggleFilters"></paper-icon-button>
    </paper-toolbar>
    <div>
        <template is="dom-repeat" items="[[spells]]">
            <paper-item data="[[item]]" on-tap="spellSelected"><paper-item-body>[[item.name]]</paper-item-body></paper-item>
        </template>
    </div>
</paper-scroll-header-panel>
    </template>
    <script>
        Polymer({
        is:'list-view',
            behaviors:[Polymer.IronResizableBehavior],
            listeners:{'iron-resize':'_onIronResize'},
            properties: {
                spells: {
                    type: Array,
                    notify: true
                }
            },
            spellSelected: function (e) {
                console.log(e.target.data);
            },
            _onIronResize:function()
            {
              this.querySelector('paper-scroll-header-panel').measureHeaderHeight();
            }
        });
    </script>
</dom-module>